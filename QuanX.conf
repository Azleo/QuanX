# Azä¿®æ”¹ - 20240616
# Azä¿®æ”¹ - 20240606
# Azä¿®æ”¹ - 20231119

# åŸºäºSample Quantumult Configuration (v1.0.19)
# https://github.com/crossutility/Quantumult-X/blob/master/sample.conf

# ä»¥ ";" æˆ– "#" æˆ– "//" å¼€å¤´çš„è¡Œä¸ºæ³¨é‡Šè¡Œ

[general]

# å»ºè®®åœ¨ã€Œå…¶ä»–è®¾ç½®ã€é‡Œã€ŒGeoLite2ã€çš„ã€Œæ¥æºã€å¡«å†™ä½¿ç”¨ä¸‹é¢é“¾æ¥ã€Œä»»é€‰ä¸€ä¸ªã€ï¼Œå¹¶å¼€å¯ã€Œè‡ªåŠ¨æ›´æ–°ã€
# https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb

;profile_img_url=http://www.example.com/example.png

# èµ„æºè§£æå™¨
# å¯ç”¨äºè‡ªå®šä¹‰å„ç±»è¿œç¨‹èµ„æºçš„è½¬æ¢ï¼Œå¦‚èŠ‚ç‚¹ï¼Œè§„åˆ™ filterï¼Œå¤å†™ rewrite ç­‰ï¼ŒURL åœ°å€å¯è¿œç¨‹ï¼Œå¯æœ¬åœ°/iCloud(Quantumult X/Scriptsç›®å½•)
;resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
resource_parser_url=https://fastly.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js
# resource_parser_url ç¤ºä¾‹å¯ä»¥åœ¨ä»¥ä¸‹ç½‘ç«™æ‰¾åˆ° https://raw.githubusercontent.com/crossutility/Quantumult-X/master/resource-parser.js

# ç½‘ç»œæµ‹è¯•é“¾æ¥
network_check_url=http://www.bing.com

# æœåŠ¡å™¨æµ‹è¯•é“¾æ¥
# å¯ä»¥åœ¨ server_local/remote ä¸­ï¼Œä¸ºèŠ‚ç‚¹ã€è®¢é˜…å•ç‹¬æŒ‡å®šserver_check_urlå‚æ•°ã€‚æŒ‡å®šåå…¶ä¼šç”¨è‡ªå·±çš„ server_check_url ä»£æ›¿ [general] ä¸­çš„ server_check_urlã€‚
# é—ªç”µå›¾æ ‡è¡¨ç¤ºTCPå¿«é€Ÿæ‰“å¼€æˆåŠŸã€‚
server_check_url=http://www.google.com/generate_204
;server_check_url=http://www.gstatic.com/generate_204
;server_check_url=http://www.qualcomm.cn/generate_204
;server_check_url=http://cp.cloudflare.com/generate_204

# Quantumult ä½¿ç”¨ HTTP HEAD æ–¹æ³•å¯¹æµ‹è¯•ç½‘å€ server_check_url è¿›è¡Œç½‘é¡µå“åº”æ€§æµ‹è¯•ï¼ˆæµ‹è¯•ç»“æœä¸ºé€šè¿‡è¯¥èŠ‚ç‚¹è®¿é—®æ­¤ç½‘é¡µè·å¾— HTTP å“åº”æ‰€éœ€è¦çš„æ—¶é—´ï¼‰ï¼Œæ¥ç¡®è®¤èŠ‚ç‚¹çš„å¯ç”¨æ€§ã€‚
# Quantumult ç•Œé¢ä¸­çš„å»¶è¿Ÿæµ‹è¯•æ–¹å¼å‡ä¸ºç½‘é¡µå“åº”æ€§æµ‹è¯•ï¼Œæ˜¾ç¤ºçš„æœ€ç»ˆå»¶è¿Ÿå‡ä¸ºé€šè¿‡å¯¹åº”èŠ‚ç‚¹è®¿é—®æµ‹è¯•ç½‘é¡µè·å¾— HTTP å“åº”æ‰€éœ€è¦æ—¶é—´ã€‚
# æµ‹è¯•ç»“æœç¬¬ä¸€é¡¹ä¸ºèŠ‚ç‚¹TCP æ¡æ‰‹ï¼Œç¬¬äºŒé¡¹ä¸ºé€šè¿‡å¯¹åº”èŠ‚ç‚¹è®¿é—®æµ‹è¯•ç½‘é¡µçš„HTTP å»¶è¿Ÿï¼Œå³HTTPå“åº”æ—¶é—´ä¸HTTPè¯·æ±‚å‘èµ·æ—¶é—´çš„æ’å€¼ã€‚æµ‹è¯•æ€»è€—æ—¶è¿˜åŒ…å«é™¤äº†ç¬¬ä¸€é¡¹ã€ç¬¬äºŒé¡¹æ„å¤–çš„æ—¶é—´å¼€é”€ï¼Œä¾‹å¦‚å¯èƒ½çš„TLSæ¡æ‰‹ä»¥åŠä»£ç†åè®®ç›¸å…³æ¡æ‰‹è¿‡ç¨‹çš„å¼€é”€ã€‚
# Quantumult X ä¸»åº”ç”¨ä¸»åŠ¨å‘èµ·çš„æµ‹è¯•çš„ç½‘ç»œè¯·æ±‚ä¸ä¼šç»ç”±Quantumult X Tunnelï¼ˆVPNï¼‰ï¼ŒQuantumult X ä¸»åº”ç”¨ä¸»åŠ¨å‘èµ·çš„æµ‹è¯•çš„ç›¸å…³DNSä¹Ÿä¸ä¼šè¢«Quantumult XTunnel ï¼ˆVPNï¼‰DNSæ¨¡å—å¤„ç†ã€‚
# ç”±äº Trojan åè®®ä¸ºæ— å“åº”æ ¡éªŒåè®®ï¼Œä½¿å¾— HTTP æ£€æµ‹æ–¹å¼å³ä½¿è·å¾—äº† HTTP å“åº”ï¼Œä¹Ÿä¸ä»£è¡¨èŠ‚ç‚¹ä¸€å®šå¯ç”¨ã€‚

# èŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•è¶…æ—¶å‚æ•°ï¼Œéœ€å°äº 5000 æ¯«ç§’æ‰ç”Ÿæ•ˆï¼Œè¯¥å€¼ä¸åŒ…æ‹¬ DNS æŸ¥è¯¢ã€TCP æ¡æ‰‹ã€TLS æ¡æ‰‹å’Œåº”ç”¨å±‚ HTTP ä¼šè¯æŒç»­æ—¶é—´åœ¨å†…çš„æ£€æŸ¥è¿‡ç¨‹çš„æ€»æŒç»­æ—¶é—´è¿›è¡Œæ¯”è¾ƒï¼Œå› æ­¤æ€»æŒç»­æ—¶é—´å¯èƒ½æ˜æ˜¾é•¿äºâ€œTCP æ¡æ‰‹â€å’Œâ€œHTTP ä¼šè¯æŒç»­æ—¶é—´â€ ã€‚
server_check_timeout=3000

# geo_location_checkerç”¨äºèŠ‚ç‚¹é¡µé¢çš„èŠ‚ç‚¹ä¿¡æ¯å±•ç¤ºï¼Œå¯å®Œæ•´è‡ªå®šä¹‰å±•ç¤ºå†…å®¹ä¸æ–¹å¼ã€‚
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/Orz-3/Orz-3/master/QuantumultX/IP.js
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/limbopro/QuantumultX/master/Scripts/IP_API.js

# è¿è¡Œæ¨¡å¼è§¦å‘å¼€å…³
# running_mode_triggeræ ¹æ®ç½‘ç»œè‡ªåŠ¨åˆ‡æ¢ åˆ†æµ/ç›´è¿/å…¨å±€ä»£ç† ç­‰æ¨¡å¼.ä¸æ‰‹åŠ¨åˆ‡æ¢ åˆ†æµ/ç›´è¿/å…¨å±€ä»£ç† ç­‰æ•ˆã€‚æ¯” ssid ç­–ç•¥ç»„è®¾ç½®ç®€å•ï¼Œæ¯”ssid-suspend æ›´çµæ´»ã€‚
# Rewrite åŠ Task æ¨¡å—å§‹ç»ˆç”Ÿæ•ˆã€‚
# filter - è§„åˆ™åˆ†æµï¼Œall_proxy - å…¨éƒ¨ä»£ç†ï¼Œall_direct - å…¨éƒ¨ç›´è¿
# ç¤ºä¾‹é¡ºåºï¼š[èœ‚çªæ•°æ®],[Wi-Fi],[SSID1],[SSID2]
;running_mode_trigger=filter, filter, LINK_22E171:all_proxy, LINK_22E172:all_direct
# ä¸Šé¢ç¤ºä¾‹çš„æ„æ€ä¸ºï¼šåœ¨èœ‚çªæ•°æ®ä½¿ç”¨è§„åˆ™åˆ†æµ(ç¬¬ä¸€ä¸ª filter)ï¼Œåœ¨ Wi-Fi ä½¿ç”¨è§„åˆ™åˆ†æµ(ç¬¬äºŒä¸ª filter)ï¼Œåœ¨ SSID ä¸º LINK_22E171 çš„ Wi-Fi ä½¿ç”¨å…¨éƒ¨ä»£ç†(all_proxy)ï¼Œåœ¨ SSID ä¸º LINK_22E172 çš„ Wi-Fi ä½¿ç”¨å…¨éƒ¨ç›´è¿(all_direct)

# DNSæ’é™¤åˆ—è¡¨
# dns_exclusion_listä¸­çš„åŸŸåå°†ä¸ä½¿ç”¨fake-ipæ–¹å¼. å…¶å®ƒåŸŸååˆ™å…¨éƒ¨é‡‡ç”¨ fake-ip åŠresolve-on-remoteï¼ˆè¿œç¨‹è§£æï¼‰çš„æ¨¡å¼
# dns_exclusion_list åŒ…å«äº†ç¦ç”¨å ä½ç¬¦ IP (240.*) çš„åŸŸï¼Œä¸åœ¨ dns_exclusion_list ä¸­çš„åŸŸéƒ½å¯ç”¨äº†å ä½ç¬¦ IPï¼Œå¹¶æ‰“å¼€äº† resolve-on-remote ï¼ˆè¿œç¨‹è§£æï¼‰è®¾ç½®
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me
# å¯ä¸€å®šç¨‹åº¦é˜²æ­¢æ£€æµ‹åˆ°ä½¿ç”¨ä»£ç†
;dns_exclusion_list = *.lan, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, *.qq.com, localhost.*.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, *.cmpassport.com, id6.me, open.e.189.cn, mdn.open.wo.cn, auth.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, *?miwifi.com, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, time.*.apple.com, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*

# é»˜è®¤å½“ DNS å±‚é¢æŸdomain è¢«rejectæ—¶ï¼Œå°†è¿”å›loopback IP
# é€šè¿‡ä¸‹é¢çš„å‚æ•°ä¿®æ”¹æˆä¸º â€œno-error-no-answerâ€ï¼Œæˆ–è€… â€œnxdomainâ€ï¼Œæˆ–è€…â€œnoneâ€
;dns_reject_domain_behavior = loopback

# SSID æŒ‚èµ·åˆ—è¡¨
# ssid_suspended_list è®© Quantumult X åœ¨ç‰¹å®š SSID ç½‘ç»œä¸‹æš‚åœå·¥ä½œ(task æ¨¡å—ä¼šç»§ç»­å·¥ä½œ)ï¼Œå¤šä¸ªWi-Fiç”¨â€œ,â€è¿æ¥
;ssid_suspended_list=LINK_22E174, LINK_22E175

# UDP ç™½åå•
# å‚æ•° udp_whitelist ä» IP å±‚æ§åˆ¶ UDP æ•°æ®æ˜¯å¦éœ€è¦èˆå¼ƒï¼›å¦‚èˆå¼ƒï¼Œåˆ™è¯¥ UDP è¯·æ±‚ä¸ä¼šè¿›å…¥è§„åˆ™æ¨¡å—ä»¥åŠç­–ç•¥æ¨¡å—ï¼ŒTCP/UDP è¯·æ±‚è®°å½•ä¸­ä¹Ÿä¸ä¼šæœ‰ç›¸åº”çš„æ¡ç›®ï¼Œä½†ä»å¯åœ¨æ—¥å¿—ä¸­æŸ¥è¯¢åˆ°ç›¸å…³ä¿¡æ¯ï¼ˆæ—¥å¿—ç­‰çº§ debugï¼‰
# è¯¥å‚æ•°æ§åˆ¶çš„æ˜¯æµå…¥ Quantumult X Tunnel çš„è¯·æ±‚ï¼Œå¹¶é Quantumult X Tunnel å‘å‡ºçš„è¯·æ±‚ï¼Œå³ä¸ä¼šä½œç”¨äºèŠ‚ç‚¹æ‰€ä½¿ç”¨çš„ UDP ç›®æ ‡ç«¯å£ã€‚
# ç•™ç©ºä»£è¡¨æ‰€æœ‰ç«¯å£å‡åœ¨udp_whitelistå†…ã€‚ç›®æ ‡ç«¯å£ä¸åœ¨udp_whiteliståˆ—è¡¨ä¸­çš„UDP æ•°æ®åŒ…ï¼ˆé€šè¿‡ Quantumult X Tunnelæ¥å£ï¼‰å°†è¢«ä¸¢å¼ƒå¤„ç†ï¼ˆè¿”å› ICMP  â€œç«¯å£ä¸å¯è¾¾â€ ä¿¡æ¯ï¼‰ã€‚æ­¤è®¾ç½®ä¸ç­–ç•¥æ— å…³ï¼Œä¹Ÿä¸ä»£ç†ï¼ˆæœåŠ¡å™¨ï¼‰ç«¯å£æ— å…³
;udp_whitelist=53, 123, 1900, 80-443
;udp_whitelist=53, 80-427, 444-65535
udp_whitelist=1-442, 444-65535

# udp_drop_liståŒudp_whitelistç±»ä¼¼ï¼Œä½†ä¸ä¼šè¿”å› ICMP â€œç«¯å£ä¸å¯è¾¾â€ ä¿¡æ¯ï¼Œudp_whiteliståå•ä»…å¤„ç† udp_whiteliståå•ä¸­çš„ç«¯å£
;udp_drop_list=1900, 80

# åå¤‡ UDP ç­–ç•¥
# å‚æ•° fallback_udp_policy ä»…æ”¯æŒ v1.0.19+ã€‚
# å‚æ•° fallback_udp_policy çš„å€¼ä»…æ”¯æŒæœ«ç«¯ç­–ç•¥ï¼ˆæœ«ç«¯ç­–ç•¥ä¸ºç»ç”±è§„åˆ™æ¨¡å—å’Œç­–ç•¥æ¨¡å—åæ‰€å‘½ä¸­çš„ç­–ç•¥ï¼Œä¾‹å¦‚ï¼šdirectã€reject ä»¥åŠèŠ‚ç‚¹ï¼›ä¸æ”¯æŒå†…ç½®ç­–ç•¥ proxy ä»¥åŠå…¶å®ƒè‡ªå®šä¹‰ç­–ç•¥ï¼‰ã€‚è¯¥å‚æ•°é»˜è®¤å€¼ä¸º reject
# å½“ UDP è¯·æ±‚ç»è¿‡è§„åˆ™æ¨¡å—ä»¥åŠç­–ç•¥æ¨¡å—åæ‰€å‘½ä¸­çš„èŠ‚ç‚¹ä¸º Quantumult X æ‰€ä¸æ”¯æŒ UDP è½¬å‘çš„èŠ‚ç‚¹ï¼ˆå¦‚ï¼šVMessã€trojanï¼‰ï¼Œæˆ–æ”¯æŒ UDP è½¬å‘ä½†æœªæ³¨æ˜ udp-relay=true çš„ï¼ˆä¾‹å¦‚ï¼šSS/SSR ä¸”ä¸æœåŠ¡å™¨æ˜¯å¦çœŸå®å¼€å¯ UDP è½¬å‘æ— å…³ï¼‰ï¼Œåˆ™ fallback_udp_policy ä¼šè¢«ä½¿ç”¨
# æ³¨æ„ï¼šå¦‚æœæ‚¨éœ€è¦è°ƒæ•´è¯¥å‚æ•°çš„å€¼ä¸º directï¼Œè¯·åŠ¡å¿…æ¸…æ¥šäº†è§£åŒä¸€ç›®æ ‡ä¸»æœºå TCP è¯·æ±‚ä¸ UDP è¯·æ±‚çš„æºåœ°å€ä¸åŒæ‰€é€ æˆçš„éšç§åŠå®‰å…¨é£é™©ã€‚
# å¦‚æœæ²¡æœ‰èŠ‚ç‚¹æ”¯æŒ UDP è½¬å‘ï¼Œå¯å¼€å¯ä¸‹åˆ—é€‰é¡¹
;fallback_udp_policy=direct

# æ’é™¤çº¿è·¯
# Quantumult å°†ä¸ä¼šå¤„ç†åˆ° excluded_routes çš„æµé‡ï¼Œä¿®æ”¹åé‡å¯è®¾å¤‡ã€‚
excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32

# Hearthstone: 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32

;icmp_auto_reply=true

# å…¼å®¹æ€§å¢å¼ºSSIDåˆ—è¡¨
# APPä¸­å…¶ä»–è®¾ç½®ä¸­çš„å…¨å±€é€‰é¡¹â€œå…¼å®¹æ€§å¢å¼ºâ€é€‰é¡¹å…³é—­æ—¶ï¼Œå°†ä½¿ç”¨è¯¥åˆ—è¡¨ã€‚
;enhanced_compatibility_ssid_list = LINK_22E174, LINK_22E175

[dns]

# æŸ¥è¯¢ç»“æœåªç”¨äºè¯„ä¼°è¿‡æ»¤å™¨æˆ–é€šè¿‡ç›´æ¥ç­–ç•¥è¿æ¥ï¼Œå½“é€šè¿‡æœåŠ¡å™¨è¿æ¥æ—¶ï¼ŒæŸ¥è¯¢ç»“æœä¸ä¼šè¢«ä½¿ç”¨ï¼ŒQuantumult æ°¸è¿œä¸ä¼šçŸ¥é“ç›¸å…³åŸŸåçš„ç›®æ ‡ IP

# ç¦ç”¨ç³»ç»Ÿ DNS
# ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šä½¿ç”¨ä»å½“å‰ç½‘ç»œ(ç³»ç»Ÿ)ä¸­è·å–çš„ DNS æœåŠ¡å™¨ï¼Œå¯ä½¿ç”¨â€œno-systemâ€ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œç¦ç”¨åè‡³å°‘éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ª DNS æœåŠ¡å™¨ï¼ˆâ€œserver=223.5.5.5â€ï¼‰
no-system

# ç¦ç”¨ ipv6
# å½“è®¾ç½®ã€Œno-ipv6ã€æ—¶ï¼ŒQuantumult X Tunnel çš„ DNS æ¨¡å—ä¼šä½¿ AAAA æŸ¥è¯¢å¤±è´¥ï¼Œä½†ä»å…è®¸æ¥è‡ª IPv6 DNS æœåŠ¡å™¨çš„ A æŸ¥è¯¢
;no-ipv6

# ç‰¹å®š SSID è®¾ç½®
# å‚æ•° excluded_ssids/included_ssidsæŒ‡å®šåœ¨ç‰¹å®šSSIDä¸‹å¤±æ•ˆ/ç”Ÿæ•ˆ
;doh-server=xx1.com,xx2.com, excluded_ssids=SSID1, SSID2
;doq-server = quic://dns.adguard.com, excluded_ssids=SSID1
;doq-server = quic://dns.adguard.com, included_ssids=SSID2
;doq-server = /*.example4.com/quic://dns.adguard.com, excluded_ssids=SSID3
;doh-server = /*.example3.com/https://doh.pub/dns-query, excluded_ssids=SSID2
;server = 8.8.8.8:53, excluded_ssids=SSID1
;server = 8.8.4.4:53, included_ssids=SSID2
;server=114.114.114.114, excluded_ssids=SSID1, SSID2

# è‡ªå®šä¹‰DNSæœåŠ¡å™¨
server=119.29.29.29
server=223.5.5.5
;server=114.114.114.114
server=8.8.8.8
;server=1.1.1.1

# æœ¬åœ° DNS æ˜ å°„
# æŒ‡å®šåŸŸåè§£æDNSï¼Œæ”¯æŒexcluded_ssids/included_ssids
# ä¸å…è®¸åœ¨æ­¤ä¸ºåŸŸåç›´æ¥è®¾ç½®127.0.0.1
# å¦‚æœæ‚¨å¸Œæœ›æŸä¸ªåŸŸåï¼ˆä¾‹å¦‚ï¼šexample.comï¼‰ä¸º127.0.0.1ï¼Œåªéœ€åœ¨ â€œfilter_localâ€ éƒ¨åˆ†æ·»åŠ  â€œhost, example.com, rejectâ€ å³å¯ã€‚æ‹’ç»æ“ä½œå°†è¿”å› 127.0.0.0.1 çš„ DNS å“åº”
address=/raw.githubusercontent.com/185.199.110.133
;address=/example5.com/192.168.16.18
;address=/example6.com/[2001:8d3:8d3:8d3:8d3:8d3:8d3:8d3]
;server=/*.icloud.com/system
;server=/*.icloud.com.cn/system
;server=/*.tencent.com/system
;server=/*.weixin.com/system
server=/router.synology.com/system
server=/routerlogin.net/system
server=/myrouter.local/system
server=/*.asus.com/system
server=/*.miwifi.com/system
server=/*.tplogin.cn/system
server=/*.tplinklogin.net/system
;server=/example0.com/system
;server=/example1.com/8.8.4.4
;server=/*.example2.com/223.5.5.5
;server=/example4.com/[2001:4860:4860::8888]:53
;address=/example5.com/192.168.16.18
;address=/example6.com/[2001:8d3:8d3:8d3:8d3:8d3:8d3:8d3]

# ä½¿ç”¨ DoQ(DNS over QUIC) / DoH(DNS over HTTPS)
# å½“DoQæˆ–DoHè¢«è®¾ç½®æ—¶ï¼Œç³»ç»Ÿå’Œæ‰€æœ‰å…¶ä»–æ™®é€šçš„ï¼ˆæ²¡æœ‰ä¸ä¹‹ç›¸å…³çš„ç‰¹å®šåŸŸï¼‰æœåŠ¡å™¨å°†è¢«å¿½ç•¥
# ä¼˜å…ˆé¡ºåºï¼šDoQ > DoH > å…¶ä»–DNS
# å½“è®¾ç½®äº†å¤šä¸ª DoQ æˆ– DoH æœåŠ¡å™¨æ—¶ï¼Œä»…ç¬¬ä¸€ä¸ªä¼šè¢«ä½¿ç”¨
# å¤šä¸ªï¼ˆå¹¶å‘æŸ¥è¯¢ï¼‰DoQæˆ–DoHæœåŠ¡å™¨éœ€è¦é…ç½®åœ¨åŒä¸€è¡Œä¸­ï¼ŒURLç”¨é€—å·åˆ†éš”
# å½“DoHå’ŒDoQæœåŠ¡éƒ½è¢«è®¾ç½®æ—¶ï¼ŒæŸ¥è¯¢å°†åŒæ—¶å‘é€åˆ°æ‰€æœ‰æœåŠ¡å™¨

# DoQ é…ç½®
# å¦‚æŒ‡å®šäº† DoQ æœåŠ¡ï¼Œåˆ™ DoH ä»¥åŠå…¶å®ƒ DNS è§£æå‡å¤±æ•ˆ
;doq-server = quic://dns1.example.com, quic://dns2.example.com
;doq-server = quic://dns.adguard.com, excluded_ssids=SSID1
;doq-server = quic://dns.adguard.com, included_ssids=SSID2
# DoQçš„é»˜è®¤ç«¯å£æ˜¯853ï¼Œå¦‚æƒ…å†µå…è®¸ï¼Œå¯ä»¥è®¾ç½®ä¸ºå…¶ä»–ç«¯å£
;quic://dns.example.com:456

# DoH é…ç½®
# å½“ä½¿ç”¨çš„ DoH æœåŠ¡å™¨ä¸æ˜¯åŸºäº HTTP/2 æ—¶ï¼ŒDoH å°†è¢«æš‚æ—¶ç¦ç”¨ï¼Œå¹¶ä½¿ç”¨å¸¸è§„æœåŠ¡å™¨ï¼Œç›´åˆ°ä¸‹æ¬¡å¯åŠ¨ VPN è¿æ¥
# ä¸å»ºè®®åœ¨ä¸é˜²ç«å¢™ç›¸å…³çš„ç½‘ç»œç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä¸ç¡®å®š DoH æœåŠ¡å™¨æ˜¯å¦æ€»èƒ½è¢«åˆ°è¾¾ã€‚
# å¦‚æœ DoH æœåŠ¡å™¨åœ¨æ‚¨çš„å›½å®¶æˆ–åœ°åŒºä¸æ˜¯æµè¡Œçš„ DNS æœåŠ¡å™¨ï¼Œåˆ™ä¸æ¨èä½¿ç”¨ï¼Œå®ƒå¯èƒ½ä¼šä¸¢å¤± ISP DNS æœåŠ¡å™¨è¿”å›çš„ CDN ä¼˜åŒ–ç»“æœã€‚
# å¦‚æœ DoH æœåŠ¡å™¨æ˜¯ä¸€ä¸ªåå¹¿å‘Šç›¸å…³çš„æœåŠ¡å™¨ï¼Œåˆ™ä¸æ¨èä½¿ç”¨ï¼ˆQuantumult X è¿‡æ»¤æ¨¡å—å¯¹äºè¢«æ‹’ç»çš„åŸŸå…·æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œå®ƒå¯ä»¥é¿å…å®¢æˆ·ç«¯æ— ä¼‘æ­¢çš„è¯·æ±‚ï¼‰
# é˜¿é‡ŒDoH
doh-server=https://dns.alidns.com/dns-query
;doh-server=https://223.5.5.5/dns-query, https://223.6.6.6/dns-query
;doh-server=https://223.6.6.6/dns-query, excluded_ssids=SSID1
;doh-server=https://223.5.5.5/dns-query, included_ssids=SSID2
# è…¾è®¯DoH
;doh-server=https://doh.pub/dns-query, https://1.12.12.12/dns-query
# Google DoH
;doh-server=https://8.8.8.8/dns-query, https://8.8.4.4/dns-query

# ä½¿ç”¨ DNS over HTTP/3
# å½“è®¾ç½®prefer-doh3æ—¶ï¼ŒDoHæŸ¥è¯¢å°†å°è¯•é€šè¿‡HTTP3è¿›è¡ŒDNSï¼Œå¦‚æœå¤±è´¥åˆ™æŸ¥è¯¢è¿æ¥å°†å›é€€åˆ°HTTP2ã€‚ ç”±äº HTTP/2 å’Œ HTTP/3 è¿æ¥æ”¯æŒå¤šè·¯å¤ç”¨ï¼Œå› æ­¤å½“æ‚¨æ›´æ”¹æ­¤è®¾ç½®æ—¶ï¼Œå®ƒå¯èƒ½ä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œä½†æ‚¨å¯ä»¥é‡æ–°è¿æ¥ Quantumult X Tunnel æˆ–æ‰‹åŠ¨æ›´æ”¹ç½‘ç»œç¯å¢ƒä»¥ä½¿å…¶ç«‹å³ç”Ÿæ•ˆ
prefer-doh3

# æ”¯æŒ alias æ˜ å°„
# æ˜ å°„åŸŸååˆ°å…¶å®ƒåŸŸå
;alias=/example7.com/another-example.com

# circumvent-ipv4-answerå’Œcircumvent-ipv6-answerä¸ä¸Šæ¸¸DNSç›¸å…³ï¼Œå¦‚æœæ‰€æœ‰æ¥è‡ªä¸Šæ¸¸çš„Aæˆ–AAAAç»“æœï¼ˆIPï¼‰ä¸æ­¤å­—æ®µç›¸å…³ï¼Œåˆ™ç»“æœå°†è¢«å¿½ç•¥å¹¶æ ‡è®°ä¸ºå¤±è´¥ï¼ˆå¦‚æ‰€æœ‰ä¸Šæ¸¸DNSè¿”å›çš„æ‰€æœ‰ç»“æœå‡å‘½ä¸­è¯¥æ¡ç›®ï¼Œåˆ™åˆ¤å®šä¸ºDNSæŸ¥è¯¢å¤±è´¥ï¼‰ã€‚
# å¦‚æœå¤šä¸ªæŸ¥è¯¢å‘é€åˆ°ä¸åŒçš„ä¸Šæ¸¸ DNS æœåŠ¡å™¨ï¼Œå¹¶ä¸”ç¬¬ä¸€ä¸ªå“åº”çš„ä¸Šæ¸¸ç»“æœä¸æ­¤å­—æ®µåŒ¹é…ï¼ŒQuantumult X Tunnel DNS æ¨¡å—å°†ç­‰å¾…å…¶ä»–ä¸Šæ¸¸æœåŠ¡å™¨çš„ç»“æœã€‚
# ï¼Ÿå’Œ * å¯ç”¨äºè§„é¿-ipv4-answer å’Œè§„é¿-ipv6-answerã€‚
# å¦‚é…ç½®çš„ä¸Šæ¸¸ DNS åŒ…å«æœ‰å»å¹¿å‘ŠåŠŸèƒ½çš„ DNS æœåŠ¡å™¨ï¼Œè¯·å‹¿ä½¿ç”¨è¯¥å‚æ•°ã€‚
;circumvent-ipv4-answer = 127.0.0.1, 0.0.0.0
;circumvent-ipv6-answer = ::

[policy]

# img-urlå‚æ•°ç”¨äºæŒ‡å®šç­–ç•¥ç»„å›¾æ ‡ï¼Œå¯è¿œç¨‹ï¼Œä¹Ÿå¯æœ¬åœ°/iCloud (Quantumult X/Imagesè·¯å¾„ä¸‹) ï¼ˆ108*108 å¤§å°ï¼‰ï¼Œimg-url=http://example.com/icon.png

# ç±»å‹ï¼šé™æ€(static)
# æŒ‡å‘æ‚¨æ‰‹åŠ¨é€‰æ‹©çš„å€™é€‰æœåŠ¡å™¨ã€‚
;static=policy-name-1, Sample-A, Sample-B, Sample-C, img-url=http://example.com/icon.png

# ç±»å‹ï¼šå¯ç”¨(available)
# æŒ‡å‘åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå¯ç”¨æœåŠ¡å™¨(å½“ç­–ç•¥è¢«è§¦å‘ä¸”ç­–ç•¥ç»“æœä¸å¯ç”¨æ—¶ï¼Œå°†ç«‹å³å¯åŠ¨å¹¶å‘urlå»¶è¿Ÿæµ‹è¯•ã€‚
# å¦‚æœå½“æ—¶æ²¡æœ‰ç½‘ç»œè¯·æ±‚æ¥å—ç­–ç•¥ï¼Œè¿™æ„å‘³ç€ç­–ç•¥å¤„äºç©ºé—²çŠ¶æ€ï¼Œå³ä½¿æœåŠ¡å™¨å…³é—­ï¼Œæµ‹è¯•ä¹Ÿä¸ä¼šå¯åŠ¨ã€‚é‚£æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ‰‹åŠ¨å¯åŠ¨æµ‹è¯•æ¥æ›´æ–°æœåŠ¡å™¨çŠ¶æ€ï¼Œä½†æ˜¯è¿™æ²¡æœ‰ä»»ä½•æ„ä¹‰)ã€‚
;available=policy-name-2, Sample-A, Sample-B, Sample-C

# ç±»å‹ï¼šè´Ÿè½½å‡è¡¡(round-robin)
# æŒ‡å‘åœ¨å€™é€‰æœåŠ¡å™¨ä¸­æŒ‡å‘ä¸‹ä¸€ä¸ªæœåŠ¡å™¨ä»¥è¿›è¡Œä¸‹ä¸€æ¬¡è¿æ¥ã€‚
# æŒ‰åˆ—è¡¨é¡ºåºè½®æµä½¿ç”¨å…¶ä¸­çš„æœåŠ¡å™¨
;round-robin=policy-name-3, Sample-A, Sample-B, Sample-C

# ç±»å‹ï¼šå»¶è¿Ÿæµ‹è¯•(url-latency-benchmark)
# æŒ‡å‘å…·æœ‰æœ€ä½³ URL å»¶è¿Ÿ(å…¬å·®ï¼Œå•ä½æ¯«ç§’)ç»“æœçš„æœåŠ¡å™¨ã€‚
# check-interval(æ£€æŸ¥é—´éš”)å•ä½ä¸ºç§’ï¼Œå½“æ­¤ç­–ç•¥å·²ç»è¢«ä»»ä½•è¯·æ±‚æ¿€æ´»æ—¶è€ƒè™‘è¯¥é—´éš”ã€‚
# alive-checkingå‚æ•°ï¼Œæ— ä½¿ç”¨æƒ…å†µä¸‹äº¦è¿›è¡Œæ£€æµ‹åˆ‡æ¢ã€‚
# toleranceä¸ºå®¹å¿åº¦å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º100ï¼ˆå•ä½ä¸ºæ¯«ç§’ï¼‰å½“æ–°æµ‹è¯•çš„æœ€ä½³ç­–ç•¥æ¯”åŸé€‰ä¸­ç­–ç•¥çš„å»¶è¿Ÿå·®å¤§äºå®¹å¿åº¦æ—¶ï¼Œæ‰ä¼šåˆ‡æ¢è‡³æ–°çš„ç­–ç•¥ã€‚
# æ‰‹åŠ¨å¯åŠ¨ URL æµ‹è¯•æ—¶ï¼Œç­–ç•¥ç»“æœä¹Ÿä¼šè¢«æ›´æ–°ã€‚
;url-latency-benchmark=policy-name-9, resource-tag-regex=^sample, server-tag-regex=^example, check-interval=600, alive-checking=false, tolerance=0

# SSID
# æ ¹æ®ç½‘ç»œç¯å¢ƒè‡ªåŠ¨åˆ‡æ¢èŠ‚ç‚¹/ç­–ç•¥ç»„ã€‚
;ssid=policy-name-4, Sample-A, Sample-B, LINK_22E171:Sample-B, LINK_22E172:Sample-C

# ç­›é€‰ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰
# server-tag-regex ä»¥åŠ resource-tag-regex å‚æ•°ç”¨äºæ­£åˆ™ç­›é€‰æ¥å»ºç«‹ç­–ç•¥ç»„ï¼Œä»…é€‚ç”¨äº staticã€available å’Œ round-robin ç±»å‹çš„ç­–ç•¥ã€‚
# æ•™ç¨‹éƒ¨åˆ†: https://shrtm.nu/DAFP

# èŒƒä¾‹

# æ‰€æœ‰èŠ‚ç‚¹åˆ—è¡¨
# server-tag-regex=.*

# ç‰¹æ®ŠèŠ‚ç‚¹
# server-tag-regex=^(?!.*(æ¸¯|å°|æ—¥|éŸ©|å¡|ç¾|HK|TW|JP|KR|SG|US|Hong|Tai|Japan|Korea|Singapore|States))

# é¦™æ¸¯
# server-tag-regex=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|ç‹®åŸ|å—æœé²œ|US|SG|JP|KR|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹|ç…åŸ)).)*$

# å°æ¹¾
# server-tag-regex=(?=.*(å°|TW|(?i)Taiwan))^((?!(é¦™æ¸¯|æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|ç‹®åŸ|å—æœé²œ|US|SG|JP|KR|HK|ç¾åœ‹|éŸ“åœ‹|ç…åŸ)).)*$

# æ—¥æœ¬
# server-tag-regex=(?=.*(æ—¥æœ¬|JP|(?i)Japan))^((?!(é¦™æ¸¯|å°æ¹¾|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|ç‹®åŸ|å—æœé²œ|US|SG|KR|HK|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹|ç…åŸ)).)*$

# éŸ©å›½
# server-tag-regex=(?=.*(KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“|(?i)Korea))^((?!(é¦™æ¸¯|å°æ¹¾|æ–°åŠ å¡|ç¾å›½|ç‹®åŸ|å—æœé²œ|US|SG|HK|TW|å°ç£|ç¾åœ‹|ç…åŸ)).)*$

# æ–°åŠ å¡
# server-tag-regex=(?=.*(æ–°åŠ å¡|ç‹®åŸ|SG|(?i)Singapore))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|ç¾å›½|éŸ©å›½|å—æœé²œ|US|JP|KR|HK|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹)).)*$

# ç¾å›½
# server-tag-regex=(?=.*(ç¾å›½|ç¾åœ‹|US|æ´›æ‰çŸ¶|è¥¿é›…å›¾|(?i)States|American))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|éŸ©å›½|ç‹®åŸ|å—æœé²œ|SG|JP|KR|HK|TW|å°ç£|éŸ“åœ‹|ç…åŸ)).)*$

# # # # # # # # # # # # # # # # # # # # #
# # # # # # # # # # # # # # # # # # # # #

static=ğŸš€èŠ‚ç‚¹é€‰æ‹©, direct, ğŸªœæ‰‹åŠ¨åˆ‡æ¢, â™»ï¸è‡ªåŠ¨é€‰æ‹©
static=ğŸªœæ‰‹åŠ¨åˆ‡æ¢, server-tag-regex=.*
url-latency-benchmark=â™»ï¸è‡ªåŠ¨é€‰æ‹©, server-tag-regex=.*, check-interval=600, tolerance=80, alive-checking=false
static=ğŸ›‘ç½‘ç»œå‡€åŒ–, reject, direct, ğŸš€èŠ‚ç‚¹é€‰æ‹©, server-tag-regex=.*
;static=ğŸè‹¹æœæœåŠ¡, ğŸš€èŠ‚ç‚¹é€‰æ‹©, direct, server-tag-regex=.*
;static=ğŸ§è…¾è®¯ç›¸å…³, ğŸš€èŠ‚ç‚¹é€‰æ‹©, direct, server-tag-regex=.*
;static=ğŸ‡¨ğŸ‡³å›½å†…ç½‘ç«™, ğŸš€èŠ‚ç‚¹é€‰æ‹©, direct, server-tag-regex=.*
static=ğŸŒå›½å¤–ç½‘ç«™, ğŸš€èŠ‚ç‚¹é€‰æ‹©, direct, server-tag-regex=.*
static=ğŸŸæ¼ç½‘ä¹‹é±¼, ğŸš€èŠ‚ç‚¹é€‰æ‹©, direct, server-tag-regex=.*

# # # # # # # # # # # # # # # # # # # # #
# # # # # # # # # # # # # # # # # # # # #

[server_remote]

# æœåŠ¡å™¨è¿œç¨‹è®¢é˜…
# è¿œç¨‹æœåŠ¡å™¨è®¢é˜…æ¨¡å—ï¼Œå¯ç›´æ¥è®¢é˜…SSRï¼ŒSSé“¾æ¥ï¼Œä»¥åŠQuantumult Xæ ¼å¼çš„vmess/trojan/httpsè®¢é˜…
# å…¶å®ƒæ ¼å¼å¯ç”¨ opt-parser å‚æ•°å¼€å¯è§£æå™¨å¯¼å…¥ä½¿ç”¨ï¼Œopt-parser ç”¨äºæ§åˆ¶æ˜¯å¦å¯¹æœ¬è®¢é˜… å¼€å¯èµ„æºè§£æå™¨ï¼Œä¸å†™æˆ–è€… false è¡¨ç¤ºä¸å¯ç”¨è§£æå™¨ã€‚
# "tag" å’Œ "enabled" ä¸ºå¯é€‰å‚æ•°ï¼Œåˆ†åˆ«è¡¨ç¤º â€œæ ‡ç­¾â€ã€â€œå¼ºåˆ¶ç­–ç•¥â€å’Œâ€œå¼€å¯çŠ¶æ€â€ã€‚
# update-interval ä¸ºæ›´æ–°æ—¶é—´å‚æ•°ï¼Œå•ä½ ç§’, é»˜è®¤æ›´æ–°æ—¶é—´ä¸º 24*60*60=86400 ç§’ï¼Œè´Ÿæ•°è¡¨ç¤ºç¦ç”¨è‡ªåŠ¨åŒæ­¥ã€‚
# å¦‚æœè®¾ç½®äº† require-devicesï¼Œåˆ™ä»…å½“å½“å‰ Quantumult è®¾å¤‡ ID å±äº require-devices æ—¶æ‰ä¼šåŠ è½½æ­¤è¡Œé…ç½®ã€‚ Quantumult è®¾å¤‡ ID å¯ä»¥åœ¨â€œè®¾ç½® - å…¶ä»–è®¾ç½® - å…³äºâ€ä¸­æ‰¾åˆ°ã€‚
# å½“å­˜åœ¨force-policyæ—¶ï¼Œè¿œç¨‹èµ„æºè¿‡æ»¤å™¨ä¸­çš„ç­–ç•¥å°†è¢«å¿½ç•¥ï¼Œè€Œå¼ºåˆ¶ä½¿ç”¨è¯¥force-policyã€‚
;https://example.com/server.snippet, tag=Sample-01, opt-parser=true, update-interval=-1, as-policy=static, img-url=http://example.com/icon.png, require-devices=ID1, ID2, enabled=false

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
#
;https://example.com/server.snippet, tag=Sample-01, opt-parser=true, update-interval=-1, as-policy=static, img-url=http://example.com/icon.png, require-devices=ID1, ID2, enabled=false
#
#  _    _   ______   _____    ______   _ 
# | |  | | |  ____| |  __ \  |  ____| | |
# | |__| | | |__    | |__) | | |__    | |
# |  __  | |  __|   |  _  /  |  __|   | |
# | |  | | | |____  | | \ \  | |____  |_|
# |_|  |_| |______| |_|  \_\ |______| (_)
#     

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 

[filter_remote]

# è¿œç¨‹åˆ†æµè§„åˆ™è®¢é˜…

# å‚æ•°ã€Œtagã€ã€ã€Œforce-policyã€å’Œã€Œenabledã€æ˜¯å¯é€‰çš„ã€‚
# å¯ä½¿ç”¨force-policyæ¥å¼ºåˆ¶ä½¿ç”¨ç­–ç•¥åå¥½, æ›¿æ¢è¿œç¨‹è§„åˆ™å†…æ‰€æŒ‡å®šçš„ç­–ç•¥ç»„ï¼Œäº¦å¯ç”¨äºè®¾ç½®å¤šæ¡è§„åˆ™æŒ‡å‘åŒä¸€ç­–ç•¥ã€‚
# å½“æœ‰å¼ºåˆ¶ç­–ç•¥æ—¶ï¼Œè¿œç¨‹èµ„æºçš„è¿‡æ»¤å™¨ä¸­çš„ç­–ç•¥å°†è¢«å¿½ç•¥ï¼Œå¹¶ä½¿ç”¨å¼ºåˆ¶ç­–ç•¥ã€‚

;FILTER_LAN, tag=LAN, force-policy=direct, enabled=true
;FILTER_REGION, tag=CN, force-policy=direct, enabled=true
;https://example.com/filter.snippet, tag=Sample, force-policy=your-policy-name, require-devices=ID1, ID2, enabled=true

# ç›´è¿ä¿®æ­£
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Direct/Direct.list, tag=âœï¸ç›´è¿ä¿®æ­£, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true
# å»å¹¿å‘Š
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Advertising/Advertising.list, tag=âŒå»å¹¿å‘Š, force-policy=ğŸ›‘ç½‘ç»œå‡€åŒ–, update-interval=172800, opt-parser=false, enabled=true
# å»å¹¿å‘ŠLite
;https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/AdvertisingLite/AdvertisingLite.list, tag=âŒå»å¹¿å‘ŠLite, force-policy=ğŸ›‘ç½‘ç»œå‡€åŒ–, update-interval=172800, opt-parser=false, enabled=true
# ååŠ«æŒ
;https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Hijacking/Hijacking.list, tag=âŒååŠ«æŒ, force-policy=ğŸ›‘ç½‘ç»œå‡€åŒ–, update-interval=172800, opt-parser=false, enabled=true
# éšç§ä¿æŠ¤
;https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Privacy/Privacy.list, tag=âŒéšç§ä¿æŠ¤, force-policy=ğŸ›‘ç½‘ç»œå‡€åŒ–, update-interval=172800, opt-parser=false, enabled=true
# Apple
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Apple/Apple.list, tag=ğŸApple, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true
# å¾®ä¿¡
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/WeChat/WeChat.list, tag=ğŸ“Ÿå¾®ä¿¡, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true
# è…¾è®¯
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Tencent/Tencent.list, tag=ğŸ§è…¾è®¯, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true
# YouTube
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/YouTube/YouTube.list, tag=ğŸ“ºYouTube, force-policy=ğŸŒå›½å¤–ç½‘ç«™, update-interval=172800, opt-parser=false, enabled=true
# Telegram
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Telegram/Telegram.list, tag=ğŸ“¡Telegram, force-policy=ğŸŒå›½å¤–ç½‘ç«™, update-interval=172800, opt-parser=false, enabled=true
# GitHub
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/GitHub/GitHub.list, tag=ğŸ’»GitHub, force-policy=ğŸŒå›½å¤–ç½‘ç«™, update-interval=172800, opt-parser=false, enabled=true
# å›½é™…åª’ä½“
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/GlobalMedia/GlobalMedia.list, tag=ğŸ“ºå›½é™…åª’ä½“, force-policy=ğŸŒå›½å¤–ç½‘ç«™, update-interval=172800, opt-parser=false, enabled=true
# å›½å¤–ç½‘ç«™
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Global/Global.list, tag=ğŸŒå›½å¤–ç½‘ç«™, force-policy=ğŸŒå›½å¤–ç½‘ç«™, update-interval=172800, opt-parser=false, enabled=true
# å›½å†…ASN
https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list, tag=ğŸ‡¨ğŸ‡³å›½å†…ASN, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
# ChinaIPsBGP
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/ChinaIPsBGP/ChinaIPsBGP.list, tag=ğŸ‡¨ğŸ‡³ChinaIPsBGP, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true
# å›½å†…ç½‘ç«™
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/ChinaNoMedia/ChinaNoMedia.list, tag=ğŸ‡¨ğŸ‡³å›½å†…ç½‘ç«™, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true
# å›½å†…ç½‘ç«™
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/ChinaMedia/ChinaMedia.list, tag=ğŸ‡¨ğŸ‡³å›½å†…ç½‘ç«™, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true

[rewrite_remote]

# è¿œç¨‹å¤å†™æ¨¡å—
# å†…åŒ…å«ä¸»æœºåhostnameä»¥åŠå¤å†™rewriteè§„åˆ™
# æ”¯æŒæœ¬åœ°/iCloudçš„å¤å†™è§„åˆ™æ–‡ä»¶ï¼Œä½äºQuantumult X/Profilesè·¯å¾„ä¸‹
# å‚æ•°ã€Œtagã€å’Œã€Œenabledã€æ˜¯å¯é€‰çš„ã€‚
;https://raw.githubusercontent.com/crossutility/Quantumult-X/master/sample-import-rewrite.txt, tag=Sample, enabled=true

# Sub Storeï¼ˆè®¢é˜…ç®¡ç†å™¨ï¼‰
https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/config/QX.snippet, tag=Sub Store, update-interval=172800, opt-parser=false, enabled=false
# BoxJs
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, tag=BoxJs, update-interval=172800, opt-parser=false, enabled=false
# å¤å†™å»å¹¿å‘Š(ä¸¥æ ¼ç‰ˆ)
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/AdvertisingLite/AdvertisingLite.conf, tag=å¤å†™å»å¹¿å‘Š(ä¸¥æ ¼ç‰ˆ), update-interval=172800, opt-parser=false, enabled=true
#è„šæœ¬å»å¹¿å‘Š
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/AdvertisingScript/AdvertisingScript.conf, tag=è„šæœ¬å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true
# æ¯’å¥¶ç‰¹ä¾›å»å¹¿å‘Š
https://limbopro.com/Adblock4limbo.conf, tag=æ¯’å¥¶ç‰¹ä¾›(å»ç½‘é¡µå¹¿å‘Šè®¡åˆ’), update-interval=172800, opt-parser=false, enabled=true

[server_local]

# æœ¬åœ°æœåŠ¡å™¨

# åªæœ‰ obfs=http, obfs=ws, obfs=ws, obfs=wss å¯ä»¥æœ‰å¯é€‰çš„ã€Œobfs-uriã€å­—æ®µã€‚
# wss ä¸­çš„ obfs-host å‚æ•°å°†ç”¨äº TLS æ¡æ‰‹å’Œ HTTP å¤´ä¸»æœºå­—æ®µï¼Œå¦‚æœæ²¡æœ‰ä¸º wss è®¾ç½® obfs-hostï¼Œåˆ™å°†ä½¿ç”¨æœåŠ¡å™¨åœ°å€ã€‚
# ç›®å‰ä¸æ”¯æŒ VMess å’Œ Trojan çš„ UDP ä¸­ç»§ã€‚
# å½“ä½¿ç”¨ obfs=ws å’Œ obfs=wss æ—¶ï¼ŒæœåŠ¡å™¨ç«¯å¯ä»¥é€šè¿‡å¸¦æœ‰ mux=0 çš„ v2ray-plugin æˆ– v2ray-core è¿›è¡Œéƒ¨ç½²ã€‚
# obfs æ’ä»¶ tls1.2_ticket_auth æ¯” tls1.2_ticket_fastauth å’Œ obfs tls å¤šä¸€ä¸ª RTTï¼Œæœ€å¥½ä½¿ç”¨ tls1.2_ticket_fastauthã€‚
# chacha20-ietf-poly1305 å’Œ chacha20-poly1305 åœ¨ VMess é…ç½®ä¸­å…·æœ‰ç›¸åŒçš„æ•ˆæœã€‚

# å®Œæ•´ç¤ºä¾‹è¯·æŸ¥çœ‹
# https://github.com/crossutility/Quantumult-X/blob/master/sample.conf

[filter_local]

host-suffix, ikea.cn, direct
host-suffix, moyu.im, proxy

# æœ¬åœ°åˆ†æµè§„åˆ™
# æœ¬åœ°è§„åˆ™ä¼˜å…ˆç”Ÿæ•ˆ
host, ad.12306.cn, direct
host, gg.caixin.com, direct
host, sdkapp.uve.weibo.com, direct
host-suffix, ucweb.com, direct
host-suffix, kuwo.cn, direct
host, ntb.lanjie100.com, reject

# > è´´å§å±è”½åŸŸådnsæŸ¥è¯¢
ip-cidr, 180.76.76.200/32, reject

# å¦‚å¼€å¯å…¶ä»–è®¾ç½®ä¸­çš„  â€œåˆ†æµåŒ¹é…ä¼˜åŒ–â€ é€‰é¡¹ï¼Œåˆ™åŒ¹é…ä¼˜å…ˆçº§å¦‚ä¸‹ï¼š
# host > host-suffix > host-keyword(wildcard) > geoip = ip-cidr > user-agennt

# User-Agent åŒ¹é…
;user-agent, ?abc*, proxy

# å®Œæ•´åŸŸååŒ¹é…
;host, www.google.com, proxy

# åŸŸååç¼€åŒ¹é…
;host-suffix, googleapis.com, proxy

# å¼ºåˆ¶åˆ†æµèµ°èœ‚çªç½‘ç»œ
;host-suffix, googleapis.com, proxy, force-cellular
# è®©åˆ†æµèµ°èœ‚çªç½‘ç»œå’Œ Wi-Fi ä¸­çš„ä¼˜é€‰ç»“æœ
;host-suffix, googleapis.com, proxy, multi-interface
# è®©åˆ†æµèµ°èœ‚çªç½‘ç»œè·Ÿ Wi-Fi ä¸­çš„è´Ÿè½½å‡è¡¡ï¼Œæä¾›æ›´å¤§å¸¦å®½å‡ºå…¥æ¥å£
;host-suffix, googleapis.com, proxy, multi-interface-balance
# æŒ‡å®šåˆ†æµèµ°ç‰¹å®šç½‘ç»œæ¥å£
;host-suffix, googleapis.com, proxy, via-interface=pdp_ip0

# åŸŸåå…³é”®è¯åŒ¹é…
;host-keyword, adsite, reject

# åŸŸåé€šé…ç¬¦åŒ¹é…
;host-wildcard, *.goo?le.com, proxy

# IPåœ°å€åŒ¹é…
;ip6-cidr, 2001:4860:4860::8888/32, direct
;ip-cidr, 10.0.0.0/8, direct
# User-Agent åŒ¹é…
;user-agent, ?abc*, proxy

# Local Area Network å±€åŸŸç½‘
host-suffix, local, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 100.64.0.0/10, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
ip-cidr, 183.232.159.0/24, direct
ip6-cidr, fe80::/10, direct
geoip, cn, direct

# geoipåº“
;geoip, cn, direct
;geoip, netflix, proxy
;geoip, cn, direct, force-cellular
;ip-asn, 6185, proxy

# ä½ å¯ä»¥æ·»åŠ ä»¥ä¸‹host-keywordè§„åˆ™ï¼Œä»¥è·³è¿‡æ‰€æœ‰æœªåŒ¹é…ä¸»æœºçš„ DNS æŸ¥è¯¢ï¼Œçº¯ IP è¯·æ±‚ä¸ä¼šè¢«ä¸»æœºç›¸å…³è§„åˆ™åŒ¹é…ã€‚
;host-keyword, ., proxy

# å¯ä¿®æ”¹å¯¹åº”ç­–ç•¥ç»„æˆ–èŠ‚ç‚¹
# æœªå‘½ä¸­è¿œç¨‹&æœ¬åœ°è§„åˆ™çš„å‰©ä½™è¯·æ±‚ï¼Œå°†èµ°finalæŒ‡å®šçš„èŠ‚ç‚¹/ç­–ç•¥ã€‚
# finalä¸ºå¿…éœ€è§„åˆ™ï¼Œä¸å¯åˆ é™¤ï¼
final, ğŸŸæ¼ç½‘ä¹‹é±¼
# finalä¸ºå¿…éœ€è§„åˆ™ï¼Œä¸å¯åˆ é™¤ï¼

[rewrite_local]

# æœ¬åœ°å¤å†™è§„åˆ™

# å®Œæ•´ç¤ºä¾‹è¯·æŸ¥çœ‹
# https://github.com/crossutility/Quantumult-X/blob/master/sample.conf

[task_local]

# è„šæœ¬åº”ä¿å­˜åœ¨æœ¬åœ°ã€Œæˆ‘çš„ iPhone - Quantumult X - Scriptsã€æˆ–ã€ŒiCloud Drive - Quantumult X - Scriptsã€ä¸­ã€‚
# ç¤ºä¾‹ï¼šhttps://github.com/crossutility/Quantumult-X/blob/master/sample-task.js

# æ”¯æŒ 5 æˆ– 6 ä¸ª cron å­—æ®µï¼Œä¸åŒ…æ‹¬å‘½ä»¤å­—æ®µã€‚
# åŒ…å«3ç§ç±»å‹: cron å®šæ—¶ä»»åŠ¡ã€UIäº¤äº’è„šæœ¬ã€ç½‘ç»œåˆ‡æ¢è„šæœ¬

;* * * * * sample-task.js

[http_backend]

[mitm]

# è¯ä¹¦&ä¸»æœºå

#
# åªæœ‰ â€œhostnameâ€ ä¸­çš„TLS SNIæˆ–ç›®æ ‡åœ°å€ä¼šè¢«MitMå¤„ç†ã€‚
#

# åœ¨APPä¸­ç”Ÿæˆè¯ä¹¦å¹¶å®‰è£…&ä¿¡ä»»ï¼Œç¡®ä¿æŒ‰æç¤ºæ“ä½œï¼
# é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä¸º HTTPS è¯·æ±‚å¯ç”¨ MitM æ—¶ï¼ŒQuantumult X ä¼šä»åŸç«™ç‚¹è·å–è¯ä¹¦ï¼ˆè¯ä¹¦ä¼šè¢«ç¼“å­˜ï¼‰ï¼Œä¿ç•™å¤§éƒ¨åˆ†éœ€è¦çš„åŸå§‹è¯ä¹¦ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨ MitM çš„ root CA é‡æ–°ç­¾åï¼Œè¿™æ˜¯æ¨èçš„ï¼ˆä¹Ÿæ˜¯æ¯”è¾ƒå…¼å®¹çš„ï¼‰MitM è¯ä¹¦åˆ›å»ºæ–¹å¼ã€‚

;skip_validating_cert=false
;force_sni_domain_name=false

# hostname ä¸ºä¸»æœºåï¼Œç”¨,åˆ†éš”å¤šä¸ª
;hostname=*.example.com, *.sample.com

#
# CAå¯†é’¥å’Œp12éœ€è¦ä¿å¯†ï¼
#
# CAå¯†é’¥å’Œp12éœ€è¦ä¿å¯†ï¼
#
# CAå¯†é’¥å’Œp12éœ€è¦ä¿å¯†ï¼
#

;passphrase=
;p12=